{"version":3,"sources":["../../src/js/litebox.js"],"names":[],"mappings":"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","file":"litebox.min.js","sourcesContent":["/**\n * Litebox\n * \n * Copyright (c) 2018 by Andreas Remdt\n */\n\nclass Litebox {\n  constructor(options) {\n    // Assign options and throw an error if the given object is invalid\n    if (!Litebox._isObject(options)) {\n      this.options = Litebox.defaults;\n    } else {\n      this.options = Litebox._merge(Litebox.defaults, options);\n    }\n\n    // The current displayed image. Litebox keeps track of\n    // this for the gallery feature.\n    this._current = null;\n\n    // Current version\n    this.VERSION = '0.7.0';\n\n    // Start litebox\n    this._init();\n  }\n\n\n\n  /**\n   * Initializes the creation of each DOM element and\n   * registers all available events.\n   */\n  _init() {\n    this._buildCollection();\n\n    // Step 1: Build & prepare HTML elements\n    this._createElements();\n    this._applyAttributes();\n    this._createStructure();\n\n    // Step 2: Apply interaction with event listeners\n    this._registerKeyboardEvents();\n    this._registerMouseEvents();\n    this._registerTouchEvents();\n  }\n\n\n\n  /**\n   * Creates all the needed HTML elements for Litebox and registers them\n   * globally in the object for later access.\n   */\n  _createElements() {\n    this._structure = {\n      'BUTTON_CLOSE':   document.createElement('button'),\n      'BUTTON_NEXT':    document.createElement('button'),\n      'BUTTON_PREV':    document.createElement('button'),\n      'OUTER_WRAPPER':  document.createElement('div'),\n      'INNER_WRAPPER':  document.createElement('div'),\n      'FIGURE':         document.createElement('figure'),\n      'CAPTION':        document.createElement('figcaption'),\n      'IMAGE':          document.createElement('img'),\n      'LOADER':         document.createElement('div'),\n      'ERROR':          document.createElement('div')\n    };\n  }\n\n\n\n  /**\n   * Applies the necessary attributes to each HTML element,\n   * such as class name and title.\n   */\n  _applyAttributes() {\n    this._structure.OUTER_WRAPPER.className = `${this.options.classNames.outer} ${this.options.animation && '-fade-in'}`;\n    this._structure.INNER_WRAPPER.className = this.options.classNames.inner;\n    this._structure.BUTTON_CLOSE.className = `${this.options.classNames.buttonGeneral} ${this.options.classNames.buttonClose} ${this.options.classNames.hidden}`;\n    this._structure.BUTTON_CLOSE.textContent = this.options.labels.close;\n    this._structure.BUTTON_NEXT.className = `${this.options.classNames.buttonGeneral} ${this.options.classNames.buttonNext} ${this.options.classNames.hidden}`;\n    this._structure.BUTTON_NEXT.textContent = this.options.labels.next;\n    this._structure.BUTTON_PREV.className = `${this.options.classNames.buttonGeneral} ${this.options.classNames.buttonPrev} ${this.options.classNames.hidden}`;\n    this._structure.BUTTON_PREV.textContent = this.options.labels.prev;\n    this._structure.FIGURE.className = this.options.classNames.figure;\n    this._structure.CAPTION.className = `${this.options.classNames.caption} ${this.options.classNames.hidden}`;\n    this._structure.IMAGE.className = `${this.options.classNames.image} ${this.options.classNames.hidden}`;\n    this._structure.LOADER.className = `${this.options.classNames.loader} ${this.options.classNames.hidden}`;\n    this._structure.ERROR.className = `${this.options.classNames.error} ${this.options.classNames.hidden}`;\n    this._structure.ERROR.textContent = this.options.labels.error;\n  }\n\n\n\n  /**\n   * Builds the entire DOM structure of litebox and appends\n   * the classes to each element.\n   */\n  _createStructure() {\n    this._structure.OUTER_WRAPPER.appendChild(this._structure.INNER_WRAPPER);\n    this._structure.OUTER_WRAPPER.appendChild(this._structure.LOADER);\n    this._structure.OUTER_WRAPPER.appendChild(this._structure.ERROR);\n    this._structure.INNER_WRAPPER.appendChild(this._structure.BUTTON_CLOSE);\n    this._structure.INNER_WRAPPER.appendChild(this._structure.BUTTON_NEXT);\n    this._structure.INNER_WRAPPER.appendChild(this._structure.BUTTON_PREV);\n    this._structure.INNER_WRAPPER.appendChild(this._structure.FIGURE);\n    this._structure.FIGURE.appendChild(this._structure.IMAGE);\n    this._structure.FIGURE.appendChild(this._structure.CAPTION);\n\n    this._LITEBOX = this._structure.OUTER_WRAPPER;\n  }\n\n  \n\n  /**\n   * If the users has enabled keyboard events, this method registers\n   * all keys (ESC, left, right) and binds them to their appropriate function.\n   */\n  _registerKeyboardEvents() {\n    // If keyboard events are disabled, don't do anything\n    if (!this.options.keyboardShortcuts) {\n      return;\n    }\n    \n    window.addEventListener('keydown', (event) => {\n      // If no litebox is present in the DOM, don't do anything\n      if (this._isHidden()) {\n        return;\n      }\n\n      // ESC key is pressed, close litebox\n      if (event.keyCode === 27) {\n        this._close();\n      }\n\n      // Right arrow is pressed and gallery is enabled -> display next image\n      if (event.keyCode === 39) {\n        this._next();\n      }\n\n      // Left arrow is pressed and gallery is enabled -> display previous image\n      if (event.keyCode === 37) {\n        this._prev();\n      }\n    });\n  }\n\n\n\n  /**\n   * If the users has enabled touch events, this method registers\n   * three touch gestures: swipe left, swipe right and swipe down (closing the litebox).\n   */\n  _registerTouchEvents() {\n    // If touch is disabled, don't do anything\n    if (!this.options.touch) {\n      return;\n    }\n\n    // Initialize touch coordinates\n    var xDown = null;\n    var yDown = null;\n\n    // Captures the coordinates of the finger on touchstart.\n    window.addEventListener('touchstart', (event) => {\n      if (this._isHidden()) {\n        return;\n      }\n\n      xDown = event.touches[0].clientX;\n      yDown = event.touches[0].clientY;\n    });\n\n    // On touchmove, calculate the direction and execute the appropriate function\n    window.addEventListener('touchmove', (event) => {\n      // If there is no litebox in the DOM, cancel\n      if (this._isHidden() || !xDown || !yDown) {\n        return;\n      }\n\n      var xUp = event.touches[0].clientX;\n      var yUp = event.touches[0].clientY;\n\n      if (Math.abs(xDown - xUp) > Math.abs(yDown - yUp)) {\n        if ((xDown - xUp) > 0) {\n          this._next();\n        } else {\n          this._prev();\n        }\n      } else {\n        if ((yDown - yUp) < 0) {\n          this._close();\n        }\n      }\n\n      // Reset the coordinates\n      xDown = null;\n      yDown = null;\n    });\n  }\n\n\n  \n  /**\n   * Registers all mouse events.\n   */\n  _registerMouseEvents() {\n    // Adds an event listener to every image found\n    for (let gallery in this._collection) {\n      for (let image of this._collection[gallery]) {\n        image.addEventListener('click', (event) => {\n          event.preventDefault();\n\n          this._show(image);\n        });\n      }\n    }\n\n    this._structure.BUTTON_CLOSE.addEventListener('click', this._close.bind(this));\n    this._structure.BUTTON_NEXT.addEventListener('click', this._next.bind(this));\n    this._structure.BUTTON_PREV.addEventListener('click', this._prev.bind(this));\n  }\n\n\n\n  _show(image) {\n    if (!document.body.contains(this._LITEBOX)) {\n      document.body.appendChild(this._LITEBOX);\n    }\n\n    this._showLoader();\n\n    this._load(image).then(() => {\n      this._current = image;\n      this._structure.IMAGE.classList.remove(this.options.classNames.hidden);\n\n      this._hideLoader();\n      this._toggleButtons();\n      this._toggleCaption(image.getAttribute(this.options.caption));\n    }).catch(() => {\n      this._current = null;\n\n      this._hideLoader();\n      this._toggleButtons();\n      this._showError();\n    });\n  }\n\n\n\n  _close() {\n    document.body.removeChild(this._LITEBOX);\n    \n    this._current = null;\n    this._applyAttributes();\n  }\n\n\n\n\n\n  /**\n   * Loads the requested image asynchonously if available.\n   * \n   * @param {HTMLElement} image The actual image to load\n   * @returns {Promise} \n   */\n  _load(image) {\n    var target = image.getAttribute(this.options.target);\n\n    // If there is no image return\n    if (!target) {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      this._structure.IMAGE.src = target;\n      this._structure.IMAGE.onload = resolve;\n      this._structure.IMAGE.onerror = reject;\n    });\n  }\n\n\n\n  /**\n   * Either shows or hides the caption, depending on\n   * whether there is a text or not.\n   * \n   * @param {String} caption The caption text \n   */\n  _toggleCaption(caption) {\n    if (!caption) {\n      this._structure.CAPTION.classList.add('hidden');\n    } else {\n      this._structure.CAPTION.textContent = caption;\n      this._structure.CAPTION.classList.remove('hidden');\n    }\n  }\n\n\n\n  /**\n   * Either displays or hides the next/prev button,\n   * depending on whether there is a next/previous image.\n   */\n  _toggleButtons() {\n    this._structure.BUTTON_CLOSE.classList.remove('hidden');\n    if (this._isInGallery()) {\n      if (!this._isLast()) {\n        this._structure.BUTTON_NEXT.classList.remove('hidden');\n      } else {\n        this._structure.BUTTON_NEXT.classList.add('hidden');\n      }\n\n      if (!this._isFirst()) {\n        this._structure.BUTTON_PREV.classList.remove('hidden');\n      } else {\n        this._structure.BUTTON_PREV.classList.add('hidden');\n      }\n    }\n  }\n\n\n\n  /**\n   * Displays the next image in the gallery. If there is no more\n   * image, it returns the function.\n   */\n  _next() {\n    if (this._getNext()) {\n      this._show(this._getNext());      \n    }\n  }\n\n\n\n  /**\n   * Displays the previous image in the gallery. If there is no\n   * previous image, return the function.\n   */\n  _prev() {\n    if (this._getPrev()) {\n      this._show(this._getPrev());\n    }\n  }\n\n\n\n  /**\n   * Returns true if litebox is not currently active.\n   * \n   * @returns {Boolean}\n   */\n  _isHidden() {\n    return !document.body.contains(this._LITEBOX);\n  }\n\n\n\n  /**\n  * Shows the loader while an image is loading.\n  */\n  _showLoader() {\n    this._structure.LOADER.classList.remove('hidden');\n  }\n\n\n\n  /**\n   * Hides the loader after an image has been loaded.\n   */\n  _hideLoader() {\n    this._structure.LOADER.classList.add('hidden');\n  }\n\n\n\n  /**\n   * In case an image could not be loaded, shows an error message.\n   */\n  _showError() {\n    this._structure.ERROR.classList.remove('hidden');\n  }\n\n\n\n  /**\n   * Returns true if the current image is part of a gallery.\n   * \n   * @returns {Boolean}\n   */\n  _isInGallery() {\n    for (let gallery in this._collection) {\n      if (gallery !== '__' && this._collection[gallery].includes(this._current)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n\n\n  /**\n   * Returns true if the current image is the first one in the gallery.\n   * \n   * @returns {Boolean}\n   */\n  _isFirst() {\n    var gallery = this._collection[this._current.dataset.gallery.toUpperCase()];\n\n    if (gallery.indexOf(this._current) === 0) {\n      return true;\n    }\n\n    return false;\n  }\n\n\n\n  /**\n   * Returns true if the current image is the last one in the gallery.\n   * \n   * @returns {Boolean}\n   */\n  _isLast() {\n    var gallery = this._collection[this._current.dataset.gallery.toUpperCase()];\n\n    if (gallery.indexOf(this._current) === gallery.length - 1) {\n      return true;\n    }\n\n    return false;\n  }\n\n\n  _getNext() {\n    var gallery = this._collection[this._current.dataset.gallery.toUpperCase()];\n    var i = gallery.indexOf(this._current);\n\n    return gallery[i + 1];\n  }\n\n  _getPrev() {\n    var gallery = this._collection[this._current.dataset.gallery.toUpperCase()];\n    var i = gallery.indexOf(this._current);\n\n    return gallery[i - 1];\n  }\n  \n\n\n  /**\n   * Separates images based on their gallery attribute. All images\n   * are categorized and a collection with the galleries and their\n   * associated images is built.\n   * \n   * @returns {Object} The built collection.\n   */\n  _buildCollection() {\n    var images = document.querySelectorAll(this.options.el);\n    var collection = { __: [] };\n\n    images.forEach(function(image) {\n      var gallery = image.dataset.gallery;\n\n      // If an image has the `gallery` attribute, add it to the\n      // collection object.\n      if (gallery) {\n        if (!collection.hasOwnProperty(gallery.toUpperCase())) {\n          collection[gallery.toUpperCase()] = [];\n        }\n\n        collection[gallery.toUpperCase()].push(image);\n      } else {\n        // If there is no `gallery` attribute, push the images into\n        // the default array.\n        collection.__.push(image);\n      }\n    });\n\n    this._collection = collection;\n  }\n\n\n\n  /**\n   * Retrieve the default options of Litebox, such as selectors\n   * or animation attributes.\n   * \n   * @return {Object} The default options\n   */\n  static get defaults() {\n    return {\n      el: '[data-litebox]',\n      target: 'href',\n      caption: 'title',\n      keyboardShortcuts: true,\n      touch: true,\n      autohideControls: true,\n      loop: false,\n      animations: true,\n      labels: {\n        close: 'Close',\n        next: 'Show next image',\n        prev: 'Show previous image',\n        error: 'Sorry, the image couldn\\'t be loaded.'\n      },\n      classNames: {\n        outer: 'litebox',\n        inner: 'litebox__inner',\n        figure: 'litebox__image__wrapper',\n        caption: 'litebox__caption',\n        image: 'litebox__image',\n        buttonGeneral: 'litebox__button',\n        buttonClose: 'litebox__button--close',\n        buttonPrev: 'litebox__button--prev',\n        buttonNext: 'litebox__button--next',\n        loader: 'litebox__loader',\n        error: 'litebox__error',\n        hidden: 'hidden'\n      }\n    };\n  }\n\n\n\n  /**\n   * Checks if a given item is an object.\n   * \n   * @param {Object} item The object to check\n   * @returns {Boolean}\n   */\n  static _isObject(item) {\n    return (item && typeof item === 'object' && !Array.isArray(item));\n  }\n\n\n\n  /**\n   * Deep merges two objectes.\n   *  \n   * @param {Object} target The target object to merge in\n   * @param {Object} source The source object to merge from\n   * @returns {Object} The newly merged object\n   */\n  static _merge(target, source) {\n    let output = Object.assign({}, target);\n\n    Object.keys(source).forEach((key) => {\n      if (Litebox._isObject(source[key])) {\n        if (!(key in target)) {\n          Object.assign(output, { [key]: source[key] });\n        } else {\n          output[key] = Litebox._merge(target[key], source[key]);\n        }\n      } else {\n        Object.assign(output, { [key]: source[key] });\n      }\n    });\n\n    return output;\n  }\n}\n\nnew Litebox();"]}